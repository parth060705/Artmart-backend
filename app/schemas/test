import asyncio
import websockets
import json

async def test_websocket():
    uri = "ws://localhost:8000/api/ws/1b9adb66-6cf8-4a16-bfb7-a98635850374"
    async with websockets.connect(uri) as websocket:
        # Send a valid message
        await websocket.send(json.dumps({
            "receiver_id": "1c4af9bf-36e9-45f1-a9e7-14db00e47edf",
            "action": "message",
            "content": "Hello from testuser!"
        }))
        # Receive response
        response = await websocket.recv()
        print("âœ… Server responded:", response)

asyncio.run(test_websocket())
